library(rvest)
page <- read_html("https://fotohandeldelfshaven.nl/product/rolleicord-rolleiflex-lot-outlet/")
page <- read_html("https://fotohandeldelfshaven.nl/product/rolleicord-rolleiflex-lot-outlet/")
page %>%
html_element(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "price", " " ))]') %>%
html_text()
title <- page %>%
html_element(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "price", " " ))]') %>%
html_text()
title
title <- page %>%
html_element(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "entry-title", " " ))]') %>%
html_text()
title
html_text()
desc <- page %>%
html_element(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "entry-title", " " ))]') %>%
html_text()
desc
desc <- page %>%
html_element(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "woocommerce-product-details__short-description", " " ))]//p') %>%
html_text()
desc
condition <- page %>%
html_element(xpath = '//*+[contains(concat( " ", @class, " " ), concat( " ", "condition-header", " " ))]//*[contains(concat( " ", @class, " " ), concat( " ", "condition-rating", " " ))]//*[contains(concat( " ", @class, " " ), concat( " ", "star", " " ))]') %>%
html_text()
condition
list_page <- 'https://fotohandeldelfshaven.nl/winkel/?orderby=date'
list_page <- 'https://fotohandeldelfshaven.nl/winkel/?orderby=date'
list_page_url <- read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "woocommerce-loop-product__title", " " ))]') %>%
html_attrs('a')
list_page <- 'https://fotohandeldelfshaven.nl/winkel/?orderby=date'
list_page_url <- read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "woocommerce-loop-product__title", " " ))]') %>%
html_attrs('href')
list_page_url <- read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "woocommerce-loop-product__title", " " ))]')
list_page_url <- read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "woocommerce-loop-product__title", " " ))]') %>%
html_text()
list_page_url
list_page_url <- read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "woocommerce-loop-product__title", " " ))]') %>%
#html_text()
html_attr('href')
list_page_url
read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "woocommerce-loop-product__title", " " ))]') %>%
#html_text()
html_attr('a')
read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "woocommerce-loop-product__title", " " ))]') %>%
#html_text()
html_attr('a')
list_page_url <- read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "woocommerce-loop-product__title", " " ))]') %>%
#html_text()
html_attr("href")
list_page_url
list_page_url <- read_html(list_page) %>%
html_element('.woocommerce-loop-product__title') %>%
#html_text()
html_attr("href")
list_page_url
list_page_url <- read_html(list_page) %>%
html_element('.woocommerce-loop-product__title') %>%
#html_text()
html_attrs("href")
list_page_url <- read_html(list_page) %>%
html_elements('.woocommerce-loop-product__title') %>%
#html_text()
html_attrs("href")
list_page_url <- read_html(list_page) %>%
html_elements('.woocommerce-loop-product__title') %>%
#html_text()
html_attr("href")
list_page_url
list_page_url <- read_html(list_page) %>%
html_node('.woocommerce-loop-product__title') %>%
#html_text()
html_attr("href")
list_page_url
list_page_url <- read_html(list_page) %>%
html_nodes('.woocommerce-loop-product__title') %>%
#html_text()
html_attr("href")
list_page_url
list_page_url <- read_html(list_page) %>%
html_nodes('.woocommerce-loop-product__title') %>%
#html_text()
html_attr("a")
list_page_url
list_page_url <- read_html(list_page) %>%
html_nodes(xpath ='//*[contains(concat( " ", @class, " " ), concat( " ", "product-content-wrap", " " ))]') %>%
#html_text()
html_attr("a")
list_page_url
list_page_url <- read_html(list_page) %>%
html_element(xpath ='//*[contains(concat( " ", @class, " " ), concat( " ", "product-content-wrap", " " ))]') %>%
#html_text()
html_attr("a")
list_page_url
read_html(list_page) %>%
html_element(xpath ='//*[contains(concat( " ", @class, " " ), concat( " ", "product-content-wrap", "a.hongo-LoopProduct-link" ))]') %>%
#html_text()
html_attr("a")
read_html(list_page) %>%
html_element(xpath ='//*[contains(concat( " ", @class, " " ), concat( " ", "product-content-wrap", "hongo-LoopProduct-link" ))]') %>%
#html_text()
html_attr("a")
read_html(list_page) %>%
html_element(xpath ='/html/body/div[5]/section[2]/div/div/div/div/div[1]/ul/li[1]/div[2]/a[1]') %>%
#html_text()
html_attr("a")
read_html(list_page) %>%
html_element(xpath ='/html/body/div[5]/section[2]/div/div/div/div/div[1]/ul/li[1]/div[2]/a[1]') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_element(xpath ='//*[contains(concat( " ", @class, " " ), concat( " ", "product-content-wrap", "hongo-LoopProduct-link" ))]') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_element(xpath ='//*[contains(concat( " ", @class, " " ), concat( " ", "product-content-wrap", "a.hongo-LoopProduct-link" ))]') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_element(xpath ='//*[contains(concat( " ", @class, " " ), concat( " ", "product-content-wrap", "" ))]') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_elements(xpath ='//*[contains(concat( " ", @class, " " ), concat( " ", "product-content-wrap", "" ))]') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_elements(xpath ='//*[contains(concat( " ", @class, " " ), concat( " ", "product-content-wrap", " " ))]') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_elements(xpath ='//*[contains(concat( " ", @class, " " ), concat( " ", "product-content-wrap", " " ))]') %>%
html_text()
read_html(list_page) %>%
html_elements(xpath ='//*[contains(concat(" ", @class, " "), "product-content-wrap")]//div[@class="hongo-LoopProduct-link"]
') %>%
html_text()
read_html(list_page) %>%
html_elements(xpath ='//*[contains(concat(" ", @class, " "), "product-content-wrap")]//div[@class="hongo-LoopProduct-link"]
') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat(" ", @class, " "), "product-content-wrap")]//div[contains(concat(" ", @class, " "), "//*[contains(concat(" ", @class, " "), "product-content-wrap")]//div[contains(concat(" ", @class, " "), "s")]
")]') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_elements(xpath ='//*[contains(concat(" ", @class, " "), "product-content-wrap")]//div[@class="hongo-LoopProduct-link"]') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_elements(xpath =' //*[contains(concat(" ", @class, " "), "product-content-wrap")]//div[contains(concat(" ", @class, " "),"hongo-LoopProduct-link")]') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_elements('h2') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_elements('h2') %>%
#html_text()
html_attr("a")
read_html(list_page) %>%
html_elements('//*[contains(concat( " ", @class, " " ), concat( " ", "size-woocommerce_thumbnail", " " ))]') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_elements('//*[contains(concat( " ", @class, " " ), concat( " ", "size-woocommerce_thumbnail", " " ))]') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "size-woocommerce_thumbnail", " " ))]') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_elements('#main > div.col-xs-12.pull-right.hongo-content-right-part.hongo-shop-content-part.col-lg-9.col-md-12.col-sm-12 > ul > li.product.type-product.post-172906.status-publish.first.instock.product_cat-all-cameras.product_cat-cameras-hasselblad.product_cat-slr-all-cameras.product_cat-v.product_cat-for-120-film-slr-all-cameras.product_cat-hasselblad-for-120-film-slr-all-cameras.product_cat-hasselblad.product_tag-hasselblad-501cm.has-post-thumbnail.purchasable.product-type-simple > div.product-content-wrap > a.hongo-LoopProduct-link') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_elements('<a href="https://fotohandeldelfshaven.nl/product/hasselblad-501c-m-chrome-carl-zeiss-80mm-f-2-8-planar-cf-a12-magazine/" class="hongo-LoopProduct-link">
</a>') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_elements('<a href="https://fotohandeldelfshaven.nl/product/hasselblad-501c-m-chrome-carl-zeiss-80mm-f-2-8-planar-cf-a12-magazine/" class="hongo-LoopProduct-link"></a>') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_elements('<a href="https://fotohandeldelfshaven.nl/product/hasselblad-501c-m-chrome-carl-zeiss-80mm-f-2-8-planar-cf-a12-magazine/" class="hongo-LoopProduct-link"><h2 class="woocommerce-loop-product__title">Hasselblad 501C/M chrome + Carl Zeiss 80mm F/2.8 Planar CF + A12 magazine</h2>
</a>') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_elements('.woocommerce-loop-product__title') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "hongo-LoopProduct-link", " " ))]') %>%
#html_text()
html_attr("href")
read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "span.published", " " ))]') %>%
html_attr("href")
read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "span.published", " " ))]') %>%
html_text()
read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "div.hongo-rich-snippet.display-none", " " ))]') %>%
html_text()
read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "hongo-rich-snippet.display-none", " " ))]') %>%
html_text()
read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "product-content-wrap", " " ))]') %>%
html_text()
links <- read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "hongo-LoopProduct-link", " " ))]') %>%
html_attr("href")
text <- read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "product-content-wrap", " " ))]') %>%
html_text()
prices <-   read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "price", " " ))]') %>%
html_text()
titles <- prices <-   read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "woocommerce-loop-product__title", " " ))]') %>%
html_text()
links <- read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "hongo-LoopProduct-link", " " ))]') %>%
html_attr("href")
text <- read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "product-content-wrap", " " ))]') %>%
html_text()
prices <-   read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "price", " " ))]') %>%
html_text()
df_dis <- data.frame(titles,links,text,prices)
titles <-   read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "woocommerce-loop-product__title", " " ))]') %>%
html_text()
links <- read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "hongo-LoopProduct-link", " " ))]') %>%
html_attr("href")
text <- read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "product-content-wrap", " " ))]') %>%
html_text()
prices <-   read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "price", " " ))]') %>%
html_text()
df_dis <- data.frame(titles,links,text,prices)
df_dis
print(pages)
for (page in 2:236) {
Sys.sleep(1)
pages <- paste('https://fotohandeldelfshaven.nl/winkel/page/',page,'/?orderby=date')
print(pages)
}
for (page in 2:236) {
Sys.sleep(1)
pages <- paste('https://fotohandeldelfshaven.nl/winkel/page/',page,'/?orderby=date',sep = '')
print(pages)
}
list_page <- 'https://fotohandeldelfshaven.nl/winkel/?orderby=date'
get_df <- function(list_page){
titles <-   read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "woocommerce-loop-product__title", " " ))]') %>%
html_text()
links <- read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "hongo-LoopProduct-link", " " ))]') %>%
html_attr("href")
text <- read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "product-content-wrap", " " ))]') %>%
html_text()
prices <-   read_html(list_page) %>%
html_elements(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "price", " " ))]') %>%
html_text()
df_item <- data.frame(titles,links,text,prices)
df_item
}
df_item_first <- get_df(list_page)
df_item_first
for (p in 2:236) {
#Sys.sleep(1)
page <- paste('https://fotohandeldelfshaven.nl/winkel/page/',p,'/?orderby=date',sep = '')
print(page)
#tem_df <-  get_df(titles,links,text,prices)
#df_dis <- bind_rows(df_dis)
}
for (p in 2:236) {
#Sys.sleep(1)
page <- paste('https://fotohandeldelfshaven.nl/winkel/page/',p,'/?orderby=date',sep = '')
print(page)
tem_df <-  get_df(titles,links,text,prices)
df_item_first <- bind_rows(df_item_first)
}
for (p in 2:236) {
#Sys.sleep(1)
page <- paste('https://fotohandeldelfshaven.nl/winkel/page/',p,'/?orderby=date',sep = '')
print(page)
tem_df <-  get_df(page)
df_item_first <- bind_rows(df_item_first)
}
library(tidyverse)
for (p in 2:236) {
#Sys.sleep(1)
page <- paste('https://fotohandeldelfshaven.nl/winkel/page/',p,'/?orderby=date',sep = '')
print(page)
tem_df <-  get_df(page)
df_item_first <- bind_rows(df_item_first)
}
df_item_first
for (p in 2:236) {
#Sys.sleep(1)
page <- paste('https://fotohandeldelfshaven.nl/winkel/page/',p,'/?orderby=date',sep = '')
print(page)
tem_df <-  get_df(page)
df_item_first <- bind_rows(df_item_first,tem_df)
}
df_item_first
s
